(()=>{var e={};e.id=252,e.ids=[252],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},29998:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(81241),t(44013),t(35866);var r=t(23191),a=t(88716),i=t(37922),n=t.n(i),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["all-business",{children:["[businessId]",{children:["[locationId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,81241)),"D:\\Codes\\Keephy\\keephy-next\\src\\app\\all-business\\[businessId]\\[locationId]\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,44013)),"D:\\Codes\\Keephy\\keephy-next\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Codes\\Keephy\\keephy-next\\src\\app\\all-business\\[businessId]\\[locationId]\\page.tsx"],x="/all-business/[businessId]/[locationId]/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/all-business/[businessId]/[locationId]/page",pathname:"/all-business/[businessId]/[locationId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},14840:(e,s,t)=>{Promise.resolve().then(t.bind(t,29551))},29551:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var r=t(10326),a=t(73775),i=t(22621),n=t(25465),l=t(35047),o=t(17577),c=t.n(o),d=t(25842),x=t(96032),u=t(22408),p=t(35735),m=t(91646),h=t(89497),f=t(88161),g=t(98392),b=t(96049),j=t(23190),v=t(16299),y=t(35155),w=t(81322),N=t(32060),_=t(29394);let k=(0,a.Z)(()=>{let e=(0,l.useRouter)(),s=(0,l.useParams)(),t=(0,d.I0)(),a=(0,d.v9)(e=>e?.service?.singleFranchise?.data),n=(0,d.v9)(e=>e?.service?.isLoading),[x,u]=(0,o.useState)(!1),[k,I]=(0,o.useState)(""),[P,C]=(0,o.useState)(!1),[q,F]=(0,o.useState)(!1),Z=s?.businessId,A=(0,d.v9)(e=>e?.service.franchiseForms),S=(0,d.v9)(e=>e?.reviewForm?.allForms),[E,D]=(0,o.useState)(1),M=Math.ceil(A?.totalRecords/10),L=c().useMemo(()=>{let e=A?.data?.map(e=>e._id)||[];return Array.isArray(S.data)?S.data.map(e=>({value:e._id,label:e.name})).filter(s=>!e.includes(s.value)):[]},[S.data,A?.data]),[G,z]=(0,o.useState)([]),[K,O]=(0,o.useState)(""),R=s?.locationId,T=n&&!K;(0,o.useEffect)(()=>{t((0,v.PI)({}))},[t]),(0,o.useEffect)(()=>{t((0,i.zw)({currentPage:E,locationId:R}))},[E,R,t]);let $=e=>{I(e),u(!0)},B=e=>{O(e),t((0,i.Bg)({locationId:R,formId:e})).then(()=>{t((0,i.zw)({currentPage:E,locationId:R})).then(()=>O(""))})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"gradient-bg",children:[a?r.jsx("div",{className:"bg-white rounded-xl p-6 sm:pr-6 pr-8 shadow-[0px_0px_60px_30px_#00000008] relative",children:(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 grid-cols-1 gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Location Adress: "}),a?.address]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Primary Email: "}),a?.primaryEmail]}),r.jsx("p",{className:"font-medium",children:"Reporting Email:"}),r.jsx("ol",{className:"list-inside list-decimal ",children:a?.reportingEmail.map((e,s)=>r.jsx("li",{children:e},s))})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Opening Time: "}),a?.openingHour]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium",children:"Closing Time: "}),a?.closingHour]})]})]})}):(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-52 bg-white rounded-xl gap-3 shadow-[0px_0px_60px_30px_#00000008]",children:[r.jsx(y.Z,{}),r.jsx("h2",{className:"text-2xl font-primary",children:"No Location Data found"})]}),r.jsx("div",{className:"flex items-center justify-center mt-6",children:(0,r.jsxs)("button",{onClick:()=>$(a?._id),className:"bg-black text-white py-3 px-4 rounded-full flex items-center gap-1 text-sm",children:[r.jsx(p.Z,{color:"#ffffff"}),r.jsx("span",{className:"text-sm",children:" Delete Location"})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-6 flex-wrap",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3  sm:flex-nowrap flex-wrap",children:[r.jsx("div",{className:"bg-[#26A8F1] h-14 w-14 rounded-full flex items-center justify-center",children:r.jsx(f.Z,{})}),r.jsx("h2",{className:"text-xl font-medium text-black capitalize",children:"Forms"})]}),(0,r.jsxs)("button",{onClick:()=>F(!0),className:"bg-black text-white py-3 px-4 rounded-full flex items-center gap-1 text-sm",children:[r.jsx(w.Z,{})," Add Form"]})]}),T?r.jsx(g.Z,{length:10}):A?.data?.length>0?(0,r.jsxs)(r.Fragment,{children:[r.jsx(b.Z,{forms:A?.data,onActivateForm:e=>B(e)}),M>1&&r.jsx("div",{className:"flex justify-center mt-4 mb-2",children:r.jsx(j.Z,{pageCount:M,onPageChange:e=>{D(e.selected)},currentPage:E})})]}):(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-52 bg-white rounded-xl gap-3 shadow-[0px_0px_60px_30px_#00000008]",children:[r.jsx(y.Z,{}),r.jsx("h2",{className:"text-2xl font-primary",children:"No Location found"})]})]})]}),r.jsx(m.Z,{isOpen:x,onClose:()=>u(!1),heading:"Delete Location",children:(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{children:"Are you sure you want to delete this location? This action cannot be undone, and all related data will be permanently removed."}),(0,r.jsxs)("div",{className:"flex items-center w-100 gap-3 mt-3",children:[r.jsx("button",{className:"border-black border rounded-xl py-2 max-w-64 w-full bg-white text-black",onClick:()=>u(!1),children:"Cancel"}),r.jsx("button",{className:"border-red-600 border rounded-xl py-2 max-w-64 w-full bg-red-600 text-white",onClick:()=>{t((0,i.lE)({deleteFranchiseId:k,setDeleteModalOpen:u,router:e,businessId:Z})),u(!0)},children:T?r.jsx(h.Z,{}):"Delete"})]})]})}),r.jsx(m.Z,{isOpen:q,onClose:()=>F(!1),heading:"Add Form",children:(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{children:"Select the forms you want to add in this location and press 'Add'"}),r.jsx(N.ZP,{isMulti:!0,closeMenuOnSelect:!1,placeholder:"Select Forms You Want To Add",name:"forms",options:L,maxMenuHeight:100,menuShouldBlockScroll:!1,menuShouldScrollIntoView:!0,className:"react-select-container forms mb-10",classNamePrefix:"react-select",components:{DropdownIndicator:null},onChange:e=>{e&&z(e)},isClearable:!1,value:G,styles:{option:(e,s)=>({...e,backgroundColor:s.isFocused?"#f0f0f0":"#fff",color:s.isFocused?"#333":"#000"})}}),(0,r.jsxs)("div",{className:"flex items-center w-100 gap-3 mt-3",children:[r.jsx("button",{className:"border-black border rounded-xl py-2 max-w-64 w-full bg-white text-black",onClick:()=>F(!1),children:"Cancel"}),r.jsx("button",{className:"border-black border rounded-xl py-2 max-w-64 w-full bg-black text-white",disabled:P,onClick:()=>{G.length?(C(!0),t((0,i.j_)({locationId:R,formData:{forms:G.map(e=>e.value)}})).then(()=>{t((0,i.zw)({currentPage:E,locationId:R})),z([])}).finally(()=>{F(!1),C(!1)})):_.Am.error("Please select a form to continue.")},children:P?r.jsx(h.Z,{}):"Add"})]})]})})]})});var I=t(21744);let P=(0,a.Z)(()=>{let e=(0,l.useParams)(),s=(0,d.I0)(),t=(0,l.useRouter)();(0,d.v9)(e=>e?.service?.singleFranchise?.data);let a=e?.locationId;return(0,o.useEffect)(()=>{s((0,i.q9)({id:a}))},[s,a]),(0,r.jsxs)("main",{className:"container",children:[(0,r.jsxs)("button",{className:"text-[#1191D9] font-semibold text-lg cursor-pointer mb-4 flex items-center gap-1",onClick:()=>t.back(),children:[r.jsx(x.Z,{})," Go Back"]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-6 flex-wrap",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3  sm:flex-nowrap flex-wrap",children:[r.jsx("div",{className:"bg-[#FFC020] h-14 w-14 rounded-full flex items-center justify-center shrink-0",children:r.jsx(u.Z,{})}),r.jsx(n.Z,{heading:"Location",description:"Manage your registered location in one place.",business:!0})]}),(0,r.jsxs)("button",{onClick:()=>t.push(`/all-business/${e?.businessId}/${e?.locationId}/edit`),className:"bg-black text-white py-3 px-4 rounded-full flex items-center gap-1 text-sm",children:[r.jsx(I.Z,{color:"#ffffff"})," Edit Location"]})]}),r.jsx(k,{})]})]})})},81241:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=t(68570);let a=(0,r.createProxy)(String.raw`D:\Codes\Keephy\keephy-next\src\app\all-business\[businessId]\[locationId]\page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,r.createProxy)(String.raw`D:\Codes\Keephy\keephy-next\src\app\all-business\[businessId]\[locationId]\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,529,621,730,112,193,866],()=>t(29998));module.exports=r})();