"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4810],{4810:function(e,t,o){o.r(t),o.d(t,{LoginSocialAmazon:function(){return c},LoginSocialApple:function(){return k},LoginSocialFacebook:function(){return d},LoginSocialGithub:function(){return f},LoginSocialGoogle:function(){return p},LoginSocialInstagram:function(){return m},LoginSocialLinkedin:function(){return v},LoginSocialMicrosoft:function(){return h},LoginSocialPinterest:function(){return g},LoginSocialTiktok:function(){return b},LoginSocialTwitter:function(){return w}});var n=o(2265);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var a=window,c=(0,n.memo)(function(e){var t=e.state,o=void 0===t?"":t,i=e.client_id,c=e.className,s=e.redirect_uri,d=e.scope,l=void 0===d?"profile":d,u=e.isOnlyGetToken,p=void 0!==u&&u,f=e.scope_data,m=void 0===f?{profile:{essential:!0}}:f,h=e.response_type,v=void 0===h?"token":h,g=e.children,w=e.onReject,_=e.onResolve,k=e.onLoginStart,b=(0,n.useRef)(null),y=(0,n.useState)(!1),C=y[0],S=y[1];(0,n.useEffect)(function(){C||R()},[C]),(0,n.useEffect)(function(){return function(){b.current&&b.current.remove()}},[]);var E=(0,n.useCallback)(function(){return!!document.getElementById("amazon-login")},[]),P=(0,n.useCallback)(function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];b.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r},[]),L=(0,n.useCallback)(function(e){try{return fetch("https://api.amazon.com/user/profile",{headers:{Authorization:"Bearer "+e.access_token}}).then(function(e){return e.json()}).then(function(t){_({provider:"amazon",data:r({},t,e)})}).catch(function(e){w(e)}).finally(function(){}),Promise.resolve()}catch(e){return Promise.reject(e)}},[w,_]),j=(0,n.useCallback)(function(e){p?_({provider:"amazon",data:r({},e)}):L(e)},[L,_,p]),I=(0,n.useCallback)(function(e){w(e)},[w]),R=(0,n.useCallback)(function(){E()?S(!0):P(document,"script","amazon-login","https://assets.loginwithamazon.com/sdk/na/login1.js",function(){a.amazon.Login.setClientId(i),S(!0)})},[E,i,P]),T=(0,n.useCallback)(function(){C&&(a.amazon?(k&&k(),a.amazon.Login.authorize({scope:l,scope_data:m,response_type:v,redirect_uri:s,state:o},function(e){e.error?I(e.error):j(e)})):(R(),w("Google SDK isn't loaded!")))},[R,l,o,w,m,C,I,k,s,v,j]);return n.createElement("div",{className:c,onClick:T},g)}),s=window,d=(0,n.memo)(function(e){var t=e.appId,o=e.scope,i=void 0===o?"email,public_profile":o,a=e.state,c=void 0===a||a,d=e.xfbml,l=void 0===d||d,u=e.cookie,p=void 0===u||u,f=e.version,m=void 0===f?"v2.7":f,h=e.language,v=void 0===h?"en_EN":h,g=e.auth_type,w=void 0===g?"":g,_=e.className,k=e.onLoginStart,b=e.onReject,y=e.onResolve,C=e.redirect_uri,S=e.fieldsProfile,E=void 0===S?"id,first_name,last_name,middle_name,name,name_format,picture,short_name,email,gender":S,P=e.response_type,L=void 0===P?"code":P,j=e.return_scopes,I=void 0===j||j,R=e.isOnlyGetToken,T=void 0!==R&&R,N=e.children,z=(0,n.useRef)(null),G=(0,n.useState)(!1),O=G[0],x=G[1],B=(0,n.useState)(!1),A=B[0],U=B[1];(0,n.useEffect)(function(){O||M()},[O]),(0,n.useEffect)(function(){return function(){z.current&&z.current.remove()}},[]);var F=(0,n.useCallback)(function(e,t){var o=e.createElement("script");o.id="facebook-jssdk",o.src="https://connect.facebook.net/en_EN/sdk.js";var n=e.getElementsByTagName("script")[0];n&&n.parentNode&&n.parentNode.insertBefore(o,n),t()},[]),D=(0,n.useCallback)(function(){return!!document.getElementById("facebook-jssdk")},[]),H=(0,n.useCallback)(function(e,t){var o=window;o.fbAsyncInit=function(){o.FB&&o.FB.init(r({},e)),x(!0);var n=t.getElementById("fb-root");n||((n=t.createElement("div")).id="fb-root",t.body.appendChild(n)),z.current=n}},[]),q=(0,n.useCallback)(function(e){s.FB.api("/me",{locale:v,fields:E},function(t){y({provider:"facebook",data:r({},e,t)})})},[E,v,y]),K=(0,n.useCallback)(function(e){console.log("\uD83D\uDE80 ~ file: index.tsx:127 ~ response:",e),e.authResponse?T?y({provider:"facebook",data:r({},e.authResponse)}):q(e.authResponse):b(e),U(!1)},[q,T,b,y]),M=(0,n.useCallback)(function(){D()?x(!0):F(document,function(){H({appId:t,xfbml:l,version:m,state:c,cookie:p,redirect_uri:C,response_type:L},document)})},[c,t,l,p,m,H,C,L,F,D]),J=(0,n.useCallback)(function(){O&&!A&&(s.FB?(U(!0),k&&k(),s.FB.login(K,{scope:i,return_scopes:I,auth_type:w})):(M(),b("Fb isn't loaded!"),U(!1)))},[M,i,b,w,O,k,A,I,K]);return n.createElement("div",{className:_,onClick:J},N)}),l="875c0462-6309-4ddf-9889-5227b1acc82c",u=window,p=(0,n.memo)(function(e){var t=e.client_id,o=e.scope,i=void 0===o?"https://www.googleapis.com/auth/userinfo.profile":o,a=e.prompt,c=void 0===a?"select_account":a,s=e.typeResponse,d=void 0===s?"accessToken":s,p=e.ux_mode,f=e.className,m=e.login_hint,h=void 0===m?"":m,v=e.access_type,g=void 0===v?"online":v,w=e.onLoginStart,_=e.onReject,k=e.onResolve,b=e.redirect_uri,y=void 0===b?"/":b,C=e.auto_select,S=void 0!==C&&C,E=e.isOnlyGetToken,P=void 0!==E&&E,L=e.cookie_policy,j=void 0===L?"single_host_origin":L,I=e.hosted_domain,R=void 0===I?"":I,T=e.discoveryDocs,N=void 0===T?"":T,z=e.children,G=e.fetch_basic_profile,O=void 0===G||G,x=(0,n.useRef)(null),B=(0,n.useState)(!1),A=B[0],U=B[1],F=(0,n.useState)(null),D=F[0],H=F[1];(0,n.useEffect)(function(){A||Q()},[A]),(0,n.useEffect)(function(){return function(){x.current&&x.current.remove()}},[]);var q=(0,n.useCallback)(function(){return!!document.getElementById("google-login")},[]),K=(0,n.useCallback)(function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];x.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r},[]),M=(0,n.useCallback)(function(e){"accessToken"===d?fetch("https://cors.bridged.cc/https://www.googleapis.com/oauth2/v3/userinfo?alt=json",{method:"GET",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":l,Authorization:"Bearer "+e.access_token})}).then(function(e){return e.json()}).then(function(t){k({provider:"google",data:r({},e,t)})}).catch(function(e){_(e)}):fetch("https://www.googleapis.com/oauth2/v3/tokeninfo?id_token="+e.credential,{method:"GET"}).then(function(e){return e.json()}).then(function(t){k({provider:"google",data:r({},e,t)})}).catch(function(e){_(e)})},[d,_,k]),J=(0,n.useCallback)(function(e){e&&"offline"===g||P?k({provider:"google",data:e}):M(e)},[g,P,M,k]),$=(0,n.useCallback)(function(e){_({provider:"google",data:e})},[_]),Q=(0,n.useCallback)(function(){q()?U(!0):K(document,"script","google-login","https://accounts.google.com/gsi/client",function(){var e={client_id:t,ux_mode:p},o=null;if("idToken"===d)u.google.accounts.id.initialize(r({},e,{auto_select:S,prompt:"select_account",login_uri:y,callback:J,native_callback:J,error_callback:$}));else{var n=r({},e,{scope:i,prompt:c,login_hint:h,access_type:g,hosted_domain:R,redirect_uri:y,cookie_policy:j,discoveryDocs:N,immediate:!0,fetch_basic_profile:O,callback:J,error_callback:$});o="offline"===g?u.google.accounts.oauth2.initCodeClient(n):u.google.accounts.oauth2.initTokenClient(n)}o&&H(o),U(!0)})},[i,c,p,t,h,S,g,y,d,N,j,R,J,$,O,K,q]),V=(0,n.useCallback)(function(){A&&(u.google?(w&&w(),D?"offline"===g?D.requestCode():D.requestAccessToken():u.google.accounts.id.prompt()):(Q(),_("Google SDK isn't loaded!")))},[g,D,A,Q,w,_]);return n.createElement("div",{className:void 0===f?"":f,onClick:V},z)}),f=(0,n.memo)(function(e){var t=e.state,o=void 0===t?"":t,a=e.scope,c=void 0===a?"repo,gist":a,s=e.client_id,d=e.client_secret,u=e.className,p=e.redirect_uri,f=e.allow_signup,m=void 0!==f&&f,h=e.isOnlyGetToken,v=void 0!==h&&h,g=e.isOnlyGetCode,w=void 0!==g&&g,_=e.children,k=e.onReject,b=e.onResolve,y=e.onLoginStart;(0,n.useEffect)(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_github")&&t&&(localStorage.setItem("github",t),window.close())},[]);var C=(0,n.useCallback)(function(e){fetch("https://cors.bridged.cc/https://api.github.com//user",{method:"GET",headers:{Authorization:"token "+e.access_token,"x-cors-grida-api-key":l}}).then(function(e){return e.json()}).then(function(t){b({provider:"github",data:r({},t,e)})}).catch(function(e){k(e)})},[k,b]),S=(0,n.useCallback)(function(e){w?b({provider:"github",data:{code:e}}):fetch("https://cors.bridged.cc/https://github.com/login/oauth/access_token",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":l}),body:new URLSearchParams({code:e,state:o,redirect_uri:p,client_id:s,client_secret:d})}).then(function(e){return e.text()}).then(function(e){for(var t,o={},n=function(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(e,void 0):void 0}}(e))){o&&(e=o);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=e[Symbol.iterator]()).next.bind(o)}(new URLSearchParams(e));!(t=n()).done;){var r=t.value;o[r[0]]=r[1]}o.access_token?v?b({provider:"github",data:o}):C(o):k("no data")}).catch(function(e){k(e)})},[o,k,C,b,s,p,d,w,v]),E=(0,n.useCallback)(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"github"===n&&o&&S(o))}catch(e){return Promise.reject(e)}},[S]),P=(0,n.useCallback)(function(){window.removeEventListener("storage",P,!1);var e=localStorage.getItem("github");e&&(E({provider:"github",type:"code",code:e}),localStorage.removeItem("github"))},[E]),L=(0,n.useCallback)(function(){y&&y(),window.addEventListener("storage",P,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://github.com/login/oauth/authorize?client_id="+s+"&scope="+c+"&state="+o+"_github&redirect_uri="+p+"&allow_signup="+m,"Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[c,o,s,p,m,y,P]);return n.createElement("div",{className:void 0===u?"":u,onClick:L},_)}),m=(0,n.memo)(function(e){var t=e.state,o=void 0===t?"":t,i=e.client_id,a=e.client_secret,c=e.className,s=e.redirect_uri,d=e.fields,u=void 0===d?"id,username,account_type,media_count":d,p=e.scope,f=void 0===p?"user_profile,user_media":p,m=e.response_type,h=void 0===m?"code":m,v=e.isOnlyGetCode,g=void 0!==v&&v,w=e.isOnlyGetToken,_=void 0!==w&&w,k=e.children,b=e.onReject,y=e.onResolve,C=e.onLoginStart;(0,n.useEffect)(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_instagram")&&t&&(localStorage.setItem("instagram",t),window.close())},[]);var S=(0,n.useCallback)(function(e){fetch("https://cors.bridged.cc/https://graph.instagram.com//me?fields="+u+"&access_token="+e.access_token,{method:"GET",headers:{"x-cors-grida-api-key":l}}).then(function(e){return e.json()}).then(function(t){y({provider:"instagram",data:r({},t,e)})}).catch(function(e){b(e)})},[u,b,y]),E=(0,n.useCallback)(function(e){g?y({provider:"instagram",data:{code:e}}):fetch("https://cors.bridged.cc/https://api.instagram.com/oauth/access_token",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":l}),body:new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:s,client_id:i,client_secret:a})}).then(function(e){return e.json()}).then(function(e){e.access_token?_?y({provider:"instagram",data:e}):S(e):b("no data")}).catch(function(e){b(e)}).finally(function(){})},[b,y,S,i,s,a,g,_]),P=(0,n.useCallback)(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"instagram"===n&&o&&E(o))}catch(e){return Promise.reject(e)}},[E]),L=(0,n.useCallback)(function(){window.removeEventListener("storage",L,!1);var e=localStorage.getItem("instagram");e&&(P({provider:"instagram",type:"code",code:e}),localStorage.removeItem("instagram"))},[P]),j=(0,n.useCallback)(function(){C&&C(),window.addEventListener("storage",L,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://api.instagram.com/oauth/authorize?response_type="+h+"&client_id="+i+"&scope="+f+"&state="+o+"_instagram&redirect_uri="+s,"Instagram","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[f,o,i,s,C,h,L]);return n.createElement("div",{className:c,onClick:j},k)}),h=(0,n.memo)(function(e){var t=e.tenant,o=void 0===t?"common":t,i=e.state,a=void 0===i?"":i,c=e.client_id,s=e.className,d=e.redirect_uri,l=e.scope,u=void 0===l?"profile openid email":l,p=e.response_type,f=void 0===p?"code":p,m=e.response_mode,h=void 0===m?"query":m,v=e.children,g=e.code_challenge,w=void 0===g?"19cfc47c216dacba8ca23eeee817603e2ba34fe0976378662ba31688ed302fa9":g,_=e.code_challenge_method,k=void 0===_?"plain":_,b=e.prompt,y=void 0===b?"select_account":b,C=e.isOnlyGetCode,S=void 0!==C&&C,E=e.isOnlyGetToken,P=void 0!==E&&E,L=e.onLoginStart,j=e.onReject,I=e.onResolve;(0,n.useEffect)(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_microsoft")&&t&&(localStorage.setItem("microsoft",t),window.close())},[]);var R=(0,n.useCallback)(function(e){fetch("https://graph.microsoft.com/v1.0/me",{method:"GET",headers:{Authorization:"Bearer "+e.access_token}}).then(function(e){return e.json()}).then(function(t){I({provider:"microsoft",data:r({},t,e)})}).catch(function(e){j(e)})},[j,I]),T=(0,n.useCallback)(function(e){S?I({provider:"microsoft",data:{code:e}}):fetch("https://login.microsoftonline.com/"+o+"/oauth2/v2.0/token",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}),body:new URLSearchParams({code:e,scope:u,client_id:c,redirect_uri:d,code_verifier:w,grant_type:"authorization_code"})}).then(function(e){return e.json()}).then(function(e){e.access_token?P?I({provider:"microsoft",data:e}):R(e):j("no data")}).catch(function(e){j(e)})},[u,o,j,R,c,I,d,w,S,P]),N=(0,n.useCallback)(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"microsoft"===n&&o&&T(o))}catch(e){return Promise.reject(e)}},[T]),z=(0,n.useCallback)(function(){window.removeEventListener("storage",z,!1);var e=localStorage.getItem("microsoft");e&&(N({provider:"microsoft",type:"code",code:e}),localStorage.removeItem("microsoft"))},[N]),G=(0,n.useCallback)(function(){L&&L(),window.addEventListener("storage",z,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://login.microsoftonline.com/"+o+"/oauth2/v2.0/authorize?client_id="+c+"\n        &response_type="+f+"\n        &redirect_uri="+d+"\n        &response_mode="+h+"\n        &scope="+u+"\n        &state="+a+"_microsoft\n        &prompt="+y+"\n        &code_challenge="+w+"\n        &code_challenge_method="+k,"Microsoft","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[u,a,y,o,c,L,d,h,f,w,z,k]);return n.createElement("div",{className:s,onClick:G},v)}),v=(0,n.memo)(function(e){var t=e.state,o=void 0===t?"":t,i=e.scope,a=void 0===i?"r_liteprofile":i,c=e.client_id,s=e.client_secret,d=e.className,u=e.redirect_uri,p=e.response_type,f=void 0===p?"code":p,m=e.isOnlyGetCode,h=void 0!==m&&m,v=e.isOnlyGetToken,g=void 0!==v&&v,w=e.children,_=e.onLoginStart,k=e.onReject,b=e.onResolve;(0,n.useEffect)(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_linkedin")&&t&&(localStorage.setItem("linkedin",t),window.close())},[]);var y=(0,n.useCallback)(function(e){fetch("https://api.allorigins.win/get?url="+encodeURIComponent("https://api.linkedin.com/v2/me?oauth2_access_token="+e.access_token+"&projection=(id,profilePicture(displayImage~digitalmediaAsset:playableStreams),localizedLastName, firstName,lastName,localizedFirstName)"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var o=r({},e);if(t.contents){var n=JSON.parse(t.contents);"object"==typeof e&&Object.entries(n).map(function(e){o[e[0]]=e[1]})}b({provider:"linkedin",data:o})}).catch(function(e){k(e)})},[k,b]),C=(0,n.useCallback)(function(e){h?b({provider:"linkedin",data:{code:e}}):fetch("https://cors.bridged.cc/https://www.linkedin.com/oauth/v2/accessToken",{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":l}),body:new URLSearchParams({code:e,grant_type:"authorization_code",redirect_uri:u,client_id:c,client_secret:s})}).then(function(e){return e.json()}).then(function(e){g?b({provider:"linkedin",data:e}):y(e)}).catch(function(e){k(e)})},[k,b,c,y,u,s,h,g]),S=(0,n.useCallback)(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"linkedin"===n&&o&&C(o))}catch(e){return Promise.reject(e)}},[C]),E=(0,n.useCallback)(function(){window.removeEventListener("storage",E,!1);var e=localStorage.getItem("linkedin");e&&(S({provider:"linkedin",type:"code",code:e}),localStorage.removeItem("linkedin"))},[S]),P=(0,n.useCallback)(function(){_&&_(),window.addEventListener("storage",E,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.linkedin.com/oauth/v2/authorization?response_type="+f+"&client_id="+c+"&scope="+a+"&state="+o+"_linkedin&redirect_uri="+u,"Linkedin","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[_,E,f,c,a,o,u]);return n.createElement("div",{className:void 0===d?"":d,onClick:P},w)}),g=(0,n.memo)(function(e){var t=e.state,o=void 0===t?"":t,i=e.scope,a=void 0===i?"boards:read,pins:read,user_accounts:read":i,c=e.client_id,s=e.client_secret,d=e.className,u=e.redirect_uri,p=e.isOnlyGetCode,f=void 0!==p&&p,m=e.isOnlyGetToken,h=void 0!==m&&m,v=e.children,g=e.onLoginStart,w=e.onReject,_=e.onResolve;(0,n.useEffect)(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_pinterest")&&t&&(localStorage.setItem("pinterest",t),window.close())},[]);var k=(0,n.useCallback)(function(e){fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/user_account",{method:"GET",headers:{Authorization:"Bearer "+e.access_token,"x-cors-grida-api-key":l}}).then(function(e){return e.json()}).then(function(t){_({provider:"pinterest",data:r({},e,t)})}).catch(function(e){return w(e)})},[w,_]),b=(0,n.useCallback)(function(e){try{var t=function(){if(!f){var t={code:e,redirect_uri:u,grant_type:"authorization_code"},o=[];for(var n in t){var r=encodeURIComponent(n),i=encodeURIComponent(t[n]);o.push(r+"="+i)}return o=o.join("&"),Promise.resolve(fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/oauth/token",{method:"POST",headers:{Authorization:"Basic "+btoa(c+":"+s),"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":l},body:o}).then(function(e){return e.json()}).catch(function(e){return w(e)})).then(function(e){e.access_token&&(h?_({provider:"pinterest",data:e}):k(e))})}_({provider:"pinterest",data:{code:e}})}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},[w,c,k,_,u,s,f,h]),y=(0,n.useCallback)(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"pinterest"===n&&o&&b(o))}catch(e){return Promise.reject(e)}},[b]),C=(0,n.useCallback)(function(){window.removeEventListener("storage",C,!1);var e=localStorage.getItem("pinterest");e&&(y({provider:"pinterest",type:"code",code:e}),localStorage.removeItem("pinterest"))},[y]),S=(0,n.useCallback)(function(){g&&g(),window.addEventListener("storage",C,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.pinterest.com/oauth/?client_id="+c+"&scope="+a+"&state="+o+"_pinterest&redirect_uri="+u+"&response_type=code","Pinterest","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[a,o,c,u,g,C]);return n.createElement("div",{className:void 0===d?"":d,onClick:S},v)}),w=(0,n.memo)(function(e){var t=e.client_id,o=e.className,i=e.redirect_uri,a=e.children,c=e.fields,s=void 0===c?"created_at,description,entities,id,location,name,pinned_tweet_id,profile_image_url,protected,public_metrics,url,username,verified,withheld":c,d=e.state,u=void 0===d?"state":d,p=e.scope,f=void 0===p?"users.read%20tweet.read":p,m=e.isOnlyGetCode,h=void 0!==m&&m,v=e.isOnlyGetToken,g=void 0!==v&&v,w=e.onLoginStart,_=e.onReject,k=e.onResolve;(0,n.useEffect)(function(){var e=new URL(window.location.href),t=e.searchParams.get("code");e.searchParams.get("state")&&t&&(localStorage.setItem("twitter",""+t),window.close())},[]);var b=(0,n.useCallback)(function(e){fetch("https://cors.bridged.cc/https://api.twitter.com/2/users/me?user.fields="+s,{method:"GET",headers:{Authorization:"Bearer "+e.access_token,"x-cors-grida-api-key":l}}).then(function(e){return e.json()}).then(function(t){k({provider:"twitter",data:r({},e,t.data)})}).catch(function(e){return _(e)})},[s,_,k]),y=(0,n.useCallback)(function(e){try{var o=function(){if(!h){var o=new URLSearchParams({code:e,redirect_uri:i,client_id:t,grant_type:"authorization_code",code_verifier:"challenge"});return Promise.resolve(fetch("https://cors.bridged.cc/https://api.twitter.com/2/oauth2/token",{method:"POST",body:o,headers:{"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":l}}).then(function(e){return e.json()}).catch(function(e){return _(e)})).then(function(e){e.access_token&&(g?k({provider:"twitter",data:e}):b(e))})}k({provider:"twitter",data:{code:e}})}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},[_,b,k,t,i,h,g]),C=(0,n.useCallback)(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"twitter"===n&&o&&y(o))}catch(e){return Promise.reject(e)}},[y]),S=(0,n.useCallback)(function(){window.removeEventListener("storage",S,!1);var e=localStorage.getItem("twitter");e&&(C({provider:"twitter",type:"code",code:e}),localStorage.removeItem("twitter"))},[C]),E=(0,n.useCallback)(function(){try{w&&w(),window.addEventListener("storage",S,!1);var e=window.screen.width/2-225,o=window.screen.height/2-365;return window.open("https://twitter.com/i/oauth2/authorize?response_type=code&client_id="+t+"&redirect_uri="+i+"&scope="+f+"&state="+u+"&code_challenge=challenge&code_challenge_method=plain","twitter","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+o+", left="+e),Promise.resolve()}catch(e){return Promise.reject(e)}},[f,u,t,w,i,S]);return n.createElement("div",{className:void 0===o?"":o,onClick:E},a)});"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var _=window,k=(0,n.memo)(function(e){var t=e.client_id,o=e.scope,r=void 0===o?"name email":o,i=e.className,a=e.onLoginStart,c=e.onReject,s=e.onResolve,d=e.redirect_uri,l=void 0===d?"/":d,u=e.children,p=(0,n.useRef)(null),f=(0,n.useState)(!1),m=f[0],h=f[1];(0,n.useEffect)(function(){m||k()},[m]),(0,n.useEffect)(function(){return function(){p.current&&p.current.remove()}},[]);var v=(0,n.useCallback)(function(){return!!document.getElementById("apple-login")},[]),g=(0,n.useCallback)(function(e,t,o,n,r){void 0===t&&(t="script");var i=e.createElement(t);i.id=o,i.src=n,i.async=!0,i.defer=!0;var a=document.getElementsByTagName("script")[0];p.current=i,a&&a.parentNode&&a.parentNode.insertBefore(i,a),i.onload=r},[]),w=(0,n.useCallback)(function(e){s({provider:"apple",data:e})},[s]),k=(0,n.useCallback)(function(){v()?h(!0):g(document,"script","apple-login","https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",function(){_.AppleID.auth.init({clientId:t,scope:r,redirectURI:l,state:"origin:web",usePopup:!0}),h(!0)})},[r,t,l,g,v]),b=(0,n.useCallback)(function(){try{if(!m)return Promise.resolve();var e=function(){if(_.AppleID){a&&a();var e=function(e,t){try{var o=Promise.resolve(_.AppleID.auth.signIn()).then(function(e){w(e)})}catch(e){return t(e)}return o&&o.then?o.then(void 0,t):o}(0,function(e){c({err:e})});if(e&&e.then)return e.then(function(){})}else k(),c("Apple SDK isn't loaded!")}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},[w,m,k,a,c]);return n.createElement("div",{className:void 0===i?"":i,onClick:b},u)}),b=(0,n.memo)(function(e){var t=e.state,o=void 0===t?"":t,r=e.scope,i=void 0===r?"user.info.basic":r,a=e.client_key,c=e.className,s=e.redirect_uri,d=e.children,l=e.onResolve,u=e.onLoginStart;(0,n.useEffect)(function(){var e=new URL(window.location.href),t=e.searchParams.get("code"),o=e.searchParams.get("state");null!=o&&o.includes("_tiktok")&&t&&(localStorage.setItem("tiktok",t),window.close())},[]);var p=(0,n.useCallback)(function(e){var t=e.type,o=e.code,n=e.provider;try{return Promise.resolve("code"===t&&"tiktok"===n&&o&&l({provider:"tiktok",data:{code:o}}))}catch(e){return Promise.reject(e)}},[l]),f=(0,n.useCallback)(function(){window.removeEventListener("storage",f,!1);var e=localStorage.getItem("tiktok");e&&(p({provider:"tiktok",type:"code",code:e}),localStorage.removeItem("instagram"))},[p]),m=(0,n.useCallback)(function(){u&&u(),window.addEventListener("storage",f,!1);var e=window.screen.width/2-225,t=window.screen.height/2-365;window.open("https://www.tiktok.com/auth/authorize?client_key="+a+"&scope="+i+"&state="+o+"_tiktok&redirect_uri="+s+"&response_type=code","Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+t+", left="+e)},[i,o,a,s,u,f]);return n.createElement("div",{className:void 0===c?"":c,onClick:m},d)})}}]);