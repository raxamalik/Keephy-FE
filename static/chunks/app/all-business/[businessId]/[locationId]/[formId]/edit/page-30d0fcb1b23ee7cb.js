(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8524],{419:function(e,t,l){Promise.resolve().then(l.bind(l,2068))},2068:function(e,t,l){"use strict";l.r(t);var i=l(7437),n=l(2265),s=l(6463),o=l(755),a=l(1444),r=l(1905),u=l(978),d=l(9904),c=l(6522),f=l(9652),h=l(5446),x=l(392),p=l(6991),v=l(3940),m=l(6608),g=l(59);t.default=(0,c.Z)(()=>{var e,t;let l=(0,s.useParams)(),c=(0,s.useRouter)(),w=(0,a.I0)(),j=null==l?void 0:l.formId,b=(0,a.v9)(e=>{var t,l;return null==e?void 0:null===(l=e.reviewForm)||void 0===l?void 0:null===(t=l.singleform)||void 0===t?void 0:t.data}),[y,L]=(0,n.useState)([]),[q,T]=(0,n.useState)(""),C=(0,a.v9)(e=>{var t;return null==e?void 0:null===(t=e.reviewForm)||void 0===t?void 0:t.isLoading});(0,n.useEffect)(()=>{var e,t;b&&(null==b?void 0:null===(e=b.questions)||void 0===e?void 0:e.length)>0&&(L(null==b?void 0:null===(t=b.questions)||void 0===t?void 0:t.map(e=>{var t;return{id:e._id,questionType:e.questionType,questionLabel:e.questionLabel,value:null==e?void 0:e.value,ratings:null==e?void 0:null===(t=e.ratingData)||void 0===t?void 0:t.maxRating,options:null==e?void 0:e.options,choices:null==e?void 0:e.choices}})),T(null==b?void 0:b.name))},[b]),(0,n.useEffect)(()=>{w((0,r.nC)({formId:j}))},[j,w]);let N=(e,t)=>{L(y.map(l=>l.id===e?{...l,questionLabel:t}:l))},Z=(e,t,l)=>{L(y.map(i=>i.id===e?"rating"===i.questionType&&void 0!==l?{...i,ratings:l}:{...i,value:null!=t?t:i.value}:i))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("main",{className:"container gradient-bg",children:[(0,i.jsxs)("button",{className:"text-[#1191D9] font-semibold text-base cursor-pointer mb-4 flex items-center gap-1",onClick:()=>c.back(),children:[(0,i.jsx)(o.Z,{})," Go Back"]}),(0,i.jsx)("div",{className:"flex flex-col gap-4 mb-4",children:(0,i.jsxs)("div",{className:"flex items-center gap-3  sm:flex-nowrap flex-wrap",children:[(0,i.jsx)("div",{className:"bg-[#26A8F1] h-14 w-14 rounded-full flex items-center justify-center",children:(0,i.jsx)(f.Z,{})}),(0,i.jsxs)("div",{className:"flex flex-col items-start",children:[(0,i.jsx)("input",{required:!0,value:q,onChange:e=>T(e.target.value),type:"text",placeholder:"Enter Form Name",name:"name",className:"border-none w-full bg-transparent text-[#828282] focus:text-black outline-none sm:text-3xl text-2xl font-medium placeholder:text-[#828282]"}),(0,i.jsx)("p",{className:"text-sm font-normal max-w-lg text-[#8D8D8D]",children:"Edit content."})]})]})}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=e=>(null!=e?e:"").split("\n").filter(e=>""!==e.trim()),i={businessId:null==l?void 0:l.businessId,name:q,questions:y.map(e=>"rating"===e.questionType?{questionLabel:e.questionLabel,questionType:e.questionType,ratingData:{minRating:1,maxRating:"number"==typeof e.ratings?e.ratings:5}}:"dropdown"===e.questionType?{questionLabel:e.questionLabel,questionType:e.questionType,options:e.value?t(e.value):e.options}:"multipleChoice"===e.questionType?{questionLabel:e.questionLabel,questionType:e.questionType,choices:e.value?t(e.value):e.choices}:{questionLabel:e.questionLabel,questionType:e.questionType})};w((0,r.qt)({formData:i,router:c,formId:j}))},children:[(0,i.jsx)("div",{className:"sm:p-6 p-4 overflow-y-auto bg-white shadow-[0px_0px_60px_30px_#00000008] w-full rounded-xl",children:(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)("div",{className:"flex flex-col divide-y-[1px] divide-[#0F0F0F]",children:null===(e=y||[])||void 0===e?void 0:e.map((e,t)=>(0,i.jsxs)("div",{className:"flex items-start justify-between gap-4 w-full py-5 last:pb-0 first:pt-0",children:[(0,i.jsx)("button",{className:"bg-black text-white hover:bg-grey rounded-full h-10 w-10 flex items-center justify-center flex-shrink-0",children:(0,i.jsx)(u.E,{inputType:e.questionType})}),(0,i.jsx)("div",{className:"w-full",children:(0,i.jsxs)("div",{className:"w-full max-w-md",children:[(0,i.jsx)("input",{required:!0,type:"text",defaultValue:e.questionLabel,onChange:t=>N(e.id,t.target.value),placeholder:"Type your question here...",className:"mb-2 pb-2 border-b border-[#EDEDED] w-full text-[#828282] focus:border-black focus:text-black outline-none text-lg"}),"rating"===e.questionType&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"text-[#1191D9] text-sm mb-1",children:"Select rating range"}),(0,i.jsx)(d.Z,{iconSize:24,label:"",name:"rating-".concat(e.id),value:e.ratings,onChange:(t,l)=>Z(e.id,void 0,l)})]}),"yesno"===e.questionType&&(0,i.jsx)(h.Z,{readOnly:!0}),"shortText"===e.questionType&&(0,i.jsx)(x.Z,{type:"shortText",placeholder:"Type your answer here...",readOnly:!0}),"longText"===e.questionType&&(0,i.jsx)(p.Z,{rows:1,type:"longText",placeholder:"Type your answer here...",readOnly:!0}),"dropdown"===e.questionType&&(0,i.jsx)(v.Z,{formType:"create",rows:3,id:e.id,required:!0,type:e.questionType,defaultValue:e.options.join("\n"),handleInputChange:Z,placeholder:"Add choices",note:"Write or paste your options below. Each option   must be on a separate line."}),"multipleChoice"===e.questionType&&(0,i.jsx)(m.Z,{formType:"create",rows:3,id:e.id,required:!0,defaultValue:e.choices.join("\n"),type:e.questionType,handleInputChange:Z,placeholder:"Add choices",note:"Write or paste your choices below. Each choice   must be on a separate line."})]})})]},t))})})}),(null==b?void 0:null===(t=b.questions)||void 0===t?void 0:t.length)>0&&(0,i.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,i.jsx)("button",{disabled:C,type:"submit",className:" bg-black text-white h-14 max-w-80 w-full rounded-full",children:C?(0,i.jsx)(g.Z,{}):"Update Form"})})]})]}),";"]})})},9652:function(e,t,l){"use strict";var i=l(7437);l(2265),t.Z=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("svg",{fill:"#ffffff",width:32,height:32,viewBox:"0 0 24.00 24.00",children:(0,i.jsx)("g",{id:"SVGRepo_iconCarrier",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M3.81818182,11 L20.1818182,11 C21.1859723,11 22,11.8954305 22,13 L22,15 C22,16.1045695 21.1859723,17 20.1818182,17 L3.81818182,17 C2.81402773,17 2,16.1045695 2,15 L2,13 C2,11.8954305 2.81402773,11 3.81818182,11 Z M4,13 L4,15 L20,15 L20,13 L4,13 Z M3.81818182,3 L20.1818182,3 C21.1859723,3 22,3.8954305 22,5 L22,7 C22,8.1045695 21.1859723,9 20.1818182,9 L3.81818182,9 C2.81402773,9 2,8.1045695 2,7 L2,5 C2,3.8954305 2.81402773,3 3.81818182,3 Z M4,5 L4,7 L20,7 L20,5 L4,5 Z M2,19 L14,19 L14,21 L2,21 L2,19 Z"})})})})},6522:function(e,t,l){"use strict";var i=l(7437),n=l(6463),s=l(2265),o=l(1444);t.Z=e=>{let t=t=>{let l=(0,n.usePathname)(),a=(0,o.v9)(e=>{var t;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.isLoggedIn});return(0,s.useEffect)(()=>{a?a&&("/login"===l||"/"===l||l.includes("/verify-account"))&&(0,n.redirect)("/all-business"):"/login"===l||"/"===l||l.startsWith("/verify-account")||(0,n.redirect)("/login")},[a,l]),(0,i.jsx)(e,{...t})};return e.getInitialProps&&(t.getInitialProps=e.getInitialProps),t}},978:function(e,t,l){"use strict";l.d(t,{E:function(){return o}});var i=l(7437);l(2265);var n=l(9513);let s={rating:(0,i.jsx)(n.Z,{color:"#ffffff"}),yesno:(0,i.jsx)(()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("svg",{width:13,height:14,viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 7.32447C0 5.56864 0.684819 3.88472 1.90381 2.64316C3.12279 1.4016 4.77609 0.704102 6.5 0.704102C8.22391 0.704102 9.87721 1.4016 11.0962 2.64316C12.3152 3.88472 13 5.56864 13 7.32447C13 9.0803 12.3152 10.7642 11.0962 12.0058C9.87721 13.2473 8.22391 13.9448 6.5 13.9448C4.77609 13.9448 3.12279 13.2473 1.90381 12.0058C0.684819 10.7642 0 9.0803 0 7.32447H0ZM6.12907 10.158L9.87133 5.39309L9.19533 4.84227L6.00427 8.90365L3.744 6.98551L3.18933 7.66343L6.12907 10.1589V10.158Z",fill:"white"})})}),{}),dropdown:(0,i.jsx)(()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("svg",{width:14,height:8,viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1 1L7 7L13 1",stroke:"#ffffff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),{}),multipleChoice:(0,i.jsx)(function(){return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"red",viewBox:"0 0 16 16",cursor:"unset",children:[(0,i.jsx)("path",{fill:"#ffffff",d:"M3.5 3.329 3.022 4.5h.956zM4.589 6l.216.532a.75.75 0 0 0 1.39-.566l-1.77-4.346a.998.998 0 0 0-1.85 0L.806 5.967a.75.75 0 1 0 1.39.566l.216-.532zM1.47 9.22A.75.75 0 0 1 2 9h2.303C5.38 9 6 9.896 6 10.79c0 .328-.084.657-.244.941.309.349.494.81.494 1.309 0 1.071-.852 1.96-1.946 1.96L2 15a.75.75 0 0 1-.75-.75v-4.5c0-.199.079-.39.22-.53m2.833 1.857c.04 0 .065-.008.08-.014a.13.13 0 0 0 .045-.035.36.36 0 0 0 .072-.24.36.36 0 0 0-.072-.239.13.13 0 0 0-.045-.034.2.2 0 0 0-.08-.014H2.75v.576zm-1.553 1.5h1.553a.45.45 0 0 1 .447.462c0 .266-.203.46-.447.46H2.75z",fillRule:"evenodd",clipRule:"evenodd"}),(0,i.jsx)("path",{fill:"#ffffff",d:"M8.75 3.498a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5zM8.75 11.503a.75.75 0 1 0 0 1.5h5.5a.75.75 0 0 0 0-1.5z"})]})},{}),shortText:(0,i.jsx)(()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",cursor:"unset",children:(0,i.jsx)("path",{fill:"#ffffff",d:"M1 6.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 6.25m0 4a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75",fillRule:"evenodd",clipRule:"evenodd"})})}),{}),longText:(0,i.jsx)(()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",cursor:"unset",children:(0,i.jsx)("path",{fill:"#ffffff",d:"M1 4.25a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 4.25m0 4a.75.75 0 0 1 .75-.75h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 8.25m0 4a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75",fillRule:"evenodd",clipRule:"evenodd"})})}),{})},o=e=>{let{inputType:t}=e;return s[t]||null}}},function(e){e.O(0,[2427,4506,6648,7047,2971,7023,1744],function(){return e(e.s=419)}),_N_E=e.O()}]);