(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4372],{2071:function(e,i,s){Promise.resolve().then(s.bind(s,136))},136:function(e,i,s){"use strict";s.r(i);var n=s(7437),t=s(1001),l=s(9680),r=s(6522),a=s(755),o=s(6463),u=s(1444),d=s(8440),c=s(2265),m=s(9381),p=s(1990),g=s(2795);let f=(e,i)=>{let s=new Date(i),[n,t]=(null==e?void 0:e.split(":").map(Number))||[0,0],l=new Date(s);return l.setHours(n,t,0,0),l.toISOString()};i.default=(0,r.Z)(function(){let e=(0,o.useRouter)(),i=(0,o.useParams)(),s=(0,u.I0)(),r=null==i?void 0:i.locationId,v=null==i?void 0:i.businessId,x=(0,u.v9)(e=>{var i,s;return null==e?void 0:null===(s=e.service)||void 0===s?void 0:null===(i=s.singleFranchise)||void 0===i?void 0:i.data}),[b,h]=(0,c.useState)(""),[j,w]=(0,c.useState)(""),[H,E]=(0,c.useState)([]),[N,y]=(0,c.useState)({area:null==x?void 0:x.address}),S=new Date,k={primaryEmail:null==x?void 0:x.primaryEmail,businessLocation:null==x?void 0:x.address,reportingEmail:null==x?void 0:x.reportingEmail,openingHour:f(null==x?void 0:x.openingHour,S),closingHour:f(null==x?void 0:x.closingHour,S)};(0,c.useEffect)(()=>{x&&(h(f(null==x?void 0:x.openingHour,S)),w(f(null==x?void 0:x.closingHour,S)),E(x.reportingEmail.map(e=>({label:e,value:e}))))},[x]),(0,c.useEffect)(()=>{s((0,d.q9)({id:r}))},[s,r]);let D=e=>{let i=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0");return"".concat(i,":").concat(s)};return(0,n.jsxs)("main",{className:"container mt-12",children:[(0,n.jsxs)("button",{className:"text-[#1191D9] font-semibold text-base cursor-pointer mb-4 flex items-center gap-1",onClick:()=>e.back(),children:[(0,n.jsx)(a.Z,{})," Go Back"]}),(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-between gap-6 sm:flex-nowrap flex-wrap",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"bg-[#FFC020] h-14 w-14 rounded-full flex items-center justify-center shrink-0",children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)("div",{children:(0,n.jsx)(t.Z,{heading:"Edit Location",description:"Edit your location details using the fields below.",business:!0})})]})}),(0,n.jsx)(m.J9,{initialValues:k,validationSchema:p.bB,onSubmit:i=>{let n=new Date(i.openingHour),t=new Date(i.closingHour),l=D(n),a=D(t),{primaryEmail:o,reportingEmail:u,businessLocation:c}=i,m={businessId:v,address:c,openingHour:l,closingHour:a,primaryEmail:o,reportingEmail:u.map(e=>"string"==typeof e?e:e.value)};s((0,d.mv)({id:r,data:m,router:e}))},children:()=>(0,n.jsxs)(m.l0,{className:"w-full",id:"registerbusiness",children:[(0,n.jsx)(g.Z,{formType:"franchise",emailArray:H,setEmailArray:E,address:N,setAddress:y,setOpeningHour:h,setClosingHour:w,openingHour:b,closingHour:j}),(0,n.jsx)("div",{className:"flex items-center justify-center gap-4 mt-6",children:(0,n.jsx)("button",{type:"submit",className:" bg-black border border-black text-white h-14 w-full max-w-44 rounded-full",children:"Update"})})]})})]})]})})}},function(e){e.O(0,[1910,2427,4506,6648,4349,2163,4036,5694,9402,2971,7023,1744],function(){return e(e.s=2071)}),_N_E=e.O()}]);