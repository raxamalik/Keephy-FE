(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1190],{1786:function(e,t,i){Promise.resolve().then(i.bind(i,8511))},1918:function(e,t,i){"use strict";i.d(t,{C:function(){return n}});var a=i(1116),s=i(8472),l=i(3580);let n=(0,a.hg)("category",async()=>{try{return(await s.Z.get("".concat("https://keephy-bk.vercel.app/api/v1/","category"))).data}catch(i){var e,t;throw l.Am.error(null===(t=i.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message),i}}),r=(0,a.oM)({name:"category",initialState:{category:{}},reducers:{},extraReducers:e=>{e.addCase(n.fulfilled,(e,t)=>{e.category=t.payload})}});t.Z=r.reducer},8511:function(e,t,i){"use strict";i.r(t);var a=i(7437),s=i(1001),l=i(9680),n=i(6522),r=i(1444),o=i(1918),u=i(2265),d=i(6463),c=i(755),p=i(8440),m=i(2781),v=i(9381),g=i(1990),f=i(2795);t.default=(0,n.Z)(()=>{var e;let t=(0,d.useRouter)(),i=(0,r.I0)(),n=(0,d.useParams)(),y=null==n?void 0:n.businessId,b=(0,r.v9)(e=>{var t,i;return null==e?void 0:null===(i=e.service)||void 0===i?void 0:null===(t=i.singleBusiness)||void 0===t?void 0:t.data}),x=(0,r.v9)(e=>null==e?void 0:e.category.category.categories),[h,j]=(0,u.useState)([]),[E,w]=(0,u.useState)([]),[C,N]=(0,u.useState)(null),[I,_]=(0,u.useState)([]),[k,S]=(0,u.useState)(null==b?void 0:b.subCategoryId),[Z,R]=(0,u.useState)([]),T={businessName:null==b?void 0:b.name,industryType:null==b?void 0:null===(e=b.categoryId)||void 0===e?void 0:e._id,industryCategoryType:null==b?void 0:b.subCategoryId,primaryEmail:null==b?void 0:b.primaryEmail,reportingEmail:null==b?void 0:b.reportingEmail};(0,u.useEffect)(()=>{if(b){var e,t;(null==b?void 0:null===(e=b.categoryId)||void 0===e?void 0:e.subcategories)&&R(null==b?void 0:null===(t=b.categoryId)||void 0===t?void 0:t.subcategories.map(e=>({value:e._id,option:e.name}))),j(b.reportingEmail.map(e=>({label:e,value:e})))}},[b]),(0,u.useEffect)(()=>{if(k){let e=null==x?void 0:x.find(e=>e._id===k);null!=e&&e.subcategories&&R(e.subcategories.map(e=>({value:e._id,option:e.name})))}},[k,x]),(0,u.useEffect)(()=>{i((0,p.Yo)({businessId:y}))},[i,y]),(0,u.useEffect)(()=>{i((0,o.C)())},[i]),(0,u.useEffect)(()=>{x&&_(null==x?void 0:x.map(e=>({value:e._id,option:e.name})))},[x]);let A=(0,u.useCallback)(e=>{e&&(N(URL.createObjectURL(e[0])),w(e))},[]),{getRootProps:P,getInputProps:B}=(0,m.uI)({onDrop:A});return(0,a.jsxs)("main",{className:"container mt-12",children:[(0,a.jsxs)("button",{className:"text-[#1191D9] font-semibold text-base cursor-pointer mb-4 flex items-center gap-1",onClick:()=>t.back(),children:[(0,a.jsx)(c.Z,{})," Go Back"]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between gap-6 sm:flex-nowrap flex-wrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-[#26A8F1] h-14 w-14 rounded-full flex items-center justify-center",children:(0,a.jsx)(l.Z,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(s.Z,{heading:"Edit Business",description:"Edit your business details using the fields below.",business:!0})})]})}),(0,a.jsx)(v.J9,{initialValues:T,validationSchema:g.qv,onSubmit:e=>{let a=new FormData,{businessName:s,industryType:l,industryCategoryType:n,primaryEmail:r,reportingEmail:o}=e;a.append("name",s),a.append("categoryId",l),a.append("subCategoryId",n),a.append("primaryEmail",r),o.map(e=>a.append("reportingEmail","string"==typeof e?e:e.value)),0===E.length&&a.append("logo_img",null==b?void 0:b.logo),i((0,p.qJ)({formData:a,router:t,businessId:y}))},children:()=>(0,a.jsxs)(v.l0,{className:"w-full",id:"registerbusiness",children:[(0,a.jsx)(f.Z,{docFiles:E,getRootProps:P,getInputProps:B,industryTypes:I,industryCategoryType:Z,setSelectedCategory:S,formType:"business",emailArray:h,setEmailArray:j,preview:C,editImage:null==b?void 0:b.logo}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center gap-4 mt-6",children:(0,a.jsx)("button",{type:"submit",className:" bg-black text-white h-14 w-full max-w-44 rounded-full",children:"Continue"})})]})})]})]})})}},function(e){e.O(0,[1910,2427,4506,6648,4349,2163,4036,2781,5694,9402,2971,7023,1744],function(){return e(e.s=1786)}),_N_E=e.O()}]);