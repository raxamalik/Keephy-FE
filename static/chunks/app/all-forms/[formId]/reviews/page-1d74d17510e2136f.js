(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8651],{1865:function(e,l,s){Promise.resolve().then(s.bind(s,3916))},3916:function(e,l,s){"use strict";s.r(l);var n=s(7437),i=s(755),a=s(9652),r=s(977),t=s(6522),o=s(8440),d=s(1001),c=s(6463),u=s(2265),m=s(1444);l.default=(0,t.Z)(()=>{let e=(0,c.useRouter)(),l=(0,m.v9)(e=>{var l,s;return null==e?void 0:null===(s=e.reviewForm)||void 0===s?void 0:null===(l=s.singleform)||void 0===l?void 0:l.data}),s=(0,m.I0)();return(0,u.useEffect)(()=>{s((0,o.Fj)({}))},[s]),(0,n.jsxs)("main",{className:"container h-full gradient-bg",children:[(0,n.jsxs)("button",{className:"text-[#1191D9] font-semibold text-base cursor-pointer mb-4 flex items-center gap-1",onClick:()=>e.back(),children:[(0,n.jsx)(i.Z,{})," Go Back"]}),(0,n.jsx)("div",{className:"flex flex-col gap-4",children:(0,n.jsxs)("div",{className:"flex items-center gap-3  sm:flex-nowrap flex-wrap",children:[(0,n.jsx)("div",{className:"bg-[#26A8F1] h-14 w-14 rounded-full flex items-center justify-center shrink-0",children:(0,n.jsx)(a.Z,{})}),(0,n.jsx)(d.Z,{heading:null==l?void 0:l.name,description:"Here are all the form submissions. Review the responses.",business:!0})]})}),(0,n.jsx)(r.Z,{})]})})},977:function(e,l,s){"use strict";s.d(l,{Z:function(){return f}});var n=s(7437),i=s(3792),a=s(4649),r=s(1905),t=s(8440),o=s(2265),d=e=>{let{length:l}=e;return(0,n.jsx)("div",{className:"animate-pulse grid grid-cols-2 lg:grid-cols-2 md:grid-cols-2 gap-4",children:Array.from({length:l}).map((e,l)=>(0,n.jsxs)("div",{className:"block p-6 border rounded-xl shadow-[0px_0px_60px_30px_#00000008] bg-white",children:[(0,n.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4"}),Array.from({length:3}).map((e,l)=>(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"},l))]},l))})},c=s(3329),u=s(6463),m=s(1444),x=s(2682),v=s(6648);let h={option:(e,l)=>({...e,backgroundColor:l.isSelected?"#26A8F1":l.isFocused?"#f0f0f0":"#fff",color:l.isSelected?"#fff":l.isFocused?"#333":"#000",fontSize:"14px"})};var f=()=>{let e=(0,u.useParams)(),l=null==e?void 0:e.formId,s=(0,m.I0)(),[f,p]=(0,o.useState)(null),[b,j]=(0,o.useState)(1),g=(0,m.v9)(e=>{var l;return null==e?void 0:null===(l=e.reviewForm)||void 0===l?void 0:l.isLoading}),N=(0,m.v9)(e=>{var l,s;return null==e?void 0:null===(s=e.reviewForm)||void 0===s?void 0:null===(l=s.allFormsSubmissions)||void 0===l?void 0:l.data}),w=(0,m.v9)(e=>{var l;return null==e?void 0:null===(l=e.reviewForm)||void 0===l?void 0:l.allFormsSubmissions}),_=Math.ceil((null==w?void 0:w.totalRecords)/10),y=(0,m.v9)(e=>{var l;return null==e?void 0:null===(l=e.service)||void 0===l?void 0:l.allBusiness}),S=(0,m.v9)(e=>{var l;return null==e?void 0:null===(l=e.service)||void 0===l?void 0:l.allFranchiseByBusiness}),[F,k]=(0,o.useState)([]),[Z,C]=(0,o.useState)(null),[B,E]=(0,o.useState)([]),[P,I]=(0,o.useState)(null);(0,o.useEffect)(()=>{var e;(null==y?void 0:null===(e=y.data)||void 0===e?void 0:e.docs)&&k(y.data.docs.map(e=>({value:e._id,label:e.name})))},[y]),(0,o.useEffect)(()=>{if(null==Z?void 0:Z.value){let e=Z.value;s((0,t.ff)({businessId:e}))}},[s,Z]),(0,o.useEffect)(()=>{(null==S?void 0:S.Franchise)&&E(S.Franchise.map(e=>({value:e._id,label:e.address})))},[S]),(0,o.useEffect)(()=>{s((0,r.bT)({formId:l,currentPage:b,selectedBusiness:null==Z?void 0:Z.value,selectedLocation:null==P?void 0:P.value}))},[s,b,l,Z,P]);let D=e=>{p(f===e?null:e)};return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 justify-end flex-wrap",children:[(0,n.jsx)(x.ZP,{closeMenuOnSelect:!0,components:{DropdownIndicator:null},isClearable:!0,options:F,placeholder:"Filter By Business",className:"react-select-container filter",classNamePrefix:"react-select",menuShouldBlockScroll:!1,value:Z,menuShouldScrollIntoView:!0,onChange:e=>{C(e),null===e&&I(null)},styles:h}),(0,n.jsx)(x.ZP,{closeMenuOnSelect:!0,components:{DropdownIndicator:null},isClearable:!0,value:P,options:B,placeholder:"Filter By Location",className:"react-select-container filter",classNamePrefix:"react-select",isDisabled:!Z,menuShouldBlockScroll:!1,menuShouldScrollIntoView:!0,onChange:e=>{I(e),null===e&&I(null)},styles:h})]}),(0,n.jsxs)("div",{className:"mt-4",children:[g?(0,n.jsx)(d,{length:4}):(null==N?void 0:N.length)>0?(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null==N?void 0:N.map(e=>(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"block px-5 py-4 border rounded-xl shadow-[0px_0px_60px_30px_#00000008] bg-white h-full",children:[(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("h5",{className:"text-xl font-semibold",children:"User Details"}),(0,n.jsxs)("span",{className:"font-normal text-base",children:[(0,n.jsx)("span",{className:"font-primary py-2 font-medium",children:"Email:"})," ",e.email,(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"font-primary py-2 font-medium",children:"Phone:"})," ",e.phone]})]}),(0,n.jsx)("h5",{className:"text-xl font-semibold",children:"User Response"}),(0,n.jsx)("div",{children:e.answers.map(e=>(0,n.jsxs)("div",{className:"rounded-xl first:!mt-0 last:!mb-0 my-2",children:[(0,n.jsx)("h2",{children:(0,n.jsxs)("button",{type:"button",className:"flex justify-between items-center w-full  py-2 text-left text-black focus:outline-none font-medium",onClick:()=>D(e._id),children:[(0,n.jsx)("span",{children:e.questionLabel}),(0,n.jsx)(v.default,{src:a.Z,alt:"ArrowDown",className:"w-3 h-3 transition-transform ".concat(f===e._id?"rotate-180":"")})]})}),(0,n.jsx)("div",{className:" transition-all ".concat(f===e._id?"h-auto p-3  border-t border-gray-200":"h-0 overflow-hidden"),children:(0,n.jsx)("p",{className:"text-black",children:e.answer})})]},e._id))})]})},e._id))})}):(0,n.jsxs)("div",{className:"flex flex-col mb-4 justify-center items-center min-h-52 bg-white rounded-xl gap-3 shadow-[0px_0px_60px_30px_#00000008]",children:[(0,n.jsx)(i.Z,{}),(0,n.jsx)("h2",{className:"text-2xl",children:"Oops! No Response Found"})]}),_>1&&(0,n.jsx)("div",{className:"flex justify-center my-4",children:(0,n.jsx)(c.Z,{pageCount:_,onPageChange:e=>{j(e.selected)},currentPage:b})})]})]})}},4649:function(e,l){"use strict";l.Z={src:"/_next/static/media/arrow-down.a3ded4a3.svg",height:8,width:14,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[2427,4506,6648,2163,3207,5694,3966,2971,7023,1744],function(){return e(e.s=1865)}),_N_E=e.O()}]);